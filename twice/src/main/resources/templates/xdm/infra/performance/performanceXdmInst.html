<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

	<head th:replace="~{xdm/infra/block/head :: head}"></head>

	<body>

		<div class="page-wrapper">

			<!-- header 네비바 -->
			<div class="page-header" th:replace="~{xdm/infra/block/nav :: navtop}"></div>


			<!-- Main container start -->
			<div class="main-container">

				<!-- 사이드 네비바 -->
				<nav class="sidebar-wrapper"
				th:replace="~{xdm/infra/block/nav :: navleft}"></nav>
				<!-- Sidebar wrapper end -->

				<!-- Content wrapper scroll start -->
				<div class="content-wrapper-scroll">

					<!-- Main header starts -->
					<div class="main-header d-flex align-items-center justify-content-between position-relative">
						<div class="d-flex align-items-center justify-content-center">
							<div class="page-icon">
								<i class="bi bi-columns-gap"></i>
							</div>
							<div class="page-title d-none d-md-block">
								<h5>공연 관리</h5>
							</div>
						</div>
						<!-- Live updates start -->
						<ul class="updates d-flex align-items-end flex-column overflow-hidden" id="updates">
							<li>
								<a href="javascript:void(0)">
									<i class="bi bi-envelope-paper text-red font-1x me-2"></i>
									<span>12 emails from David Michaiah.</span>
								</a>
							</li>
							<li>
								<a href="javascript:void(0)">
									<i class="bi bi-bar-chart text-blue font-1x me-2"></i>
									<span>15 new features updated successfully.</span>
								</a>
							</li>
							<li>
								<a href="javascript:void(0)">
									<i class="bi bi-folder-check text-yellow font-1x me-2"></i>
									<span>The media folder is created successfully.</span>
								</a>
							</li>
						</ul>
						<!-- Live updates end -->
					</div>
					<!-- Main header ends -->

					<!-- Content wrapper start -->
					<div class="content-wrapper">

						<!-- Row start -->
						<div class="row gx-3">
							<div class="col-xxl-12">
								<div class="card">
									<div class="card-body">
										<form class="row g-3" name ="formname" method="post" >
											<div class="col-md-6">
												<input type="text" class="form-control form-control-sm" id ="prTitle"  name ="prTitle" placeholder  ="공연타이틀" />
												<div class="invalid-feedback" id="prTitleFeedback" name="prTitleFeedback"></div>
											</div>
											<div class="col-md-6">
												<!-- <input type="text" class="form-control form-control-sm"  name ="deleteNY" placeholder  ="삭제여부"  required /> -->
												<select class="form-control form-control-sm" aria-label=".form-select-lg example" id="prdeleteNY" name ="prdeleteNY" placeholder  ="삭제여부"  >
												  <option value = 0 selected>n</option>
												  <option value = 1>y</option>
												</select>
												<div class="invalid-feedback" id="prdeleteNYFeedback" name="prdeleteNYFeedback"></div>
											</div>
											<div class="col-md-6">
													<input type="text" class="form-control form-control-sm" id="prHostedPlanned" name ="prHostedPlanned" placeholder  ="주최 기획사" />
													<div class="invalid-feedback" id="prHostedPlannedFeedback" name="prHostedPlannedFeedback"></div>
												</div>
												<div class="col-md-6">
													<select id="prAgeLimit" name="prAgeLimit" class="form-select form-select-sm">
														<option value="">관람가 선택하세요</option>
														<option th:each="list : ${@codeService.selectListCachedCode(4)}" th:value="${list.ifcdSeq}" th:text="${list.ifcdName}"></option>
													</select>
													<div class="invalid-feedback" id="prAgeLimitFeedback" name="prAgeLimitFeedback"></div>
												</div> 
												<div class="col-md-6">
													<input type="text" id="prStartDate" name="prStartDate" placeholder="시작일"  class="form-control form-control-sm" autocomplete="off">
													<div class="invalid-feedback" id="prStartDateFeedback" name="prStartDateFeedback"></div>
												</div>
												<div class="col-md-6">
													<input type="text" id="prEndDate" name="prEndDate" placeholder="종료일"  class="form-control form-control-sm" autocomplete="off" >
													<div class="invalid-feedback" id="prEndDateFeedback" name="prEndDateFeedback"></div>
												</div> 
											<div class="col-6 d-flex ">
												<a th:href ="@{/performanceXdmList}">
												<button class="btn btn-primary " type="button">
													돌아가기
												</button>
												</a>
											</div>
											<div class="col-6 d-flex justify-content-end">
												<button class="btn btn-primary " id ="btnsubmit" type="button">
													저장
												</button>
											</div>
										</form>
									</div>
								</div>
							</div>
						</div>
					</div>
					<!-- Content wrapper end -->

				</div>
				<!-- Content wrapper scroll end -->

				<!-- App Footer start -->
				<div class="app-footer">
					<span>© Gear admin 2023</span>
				</div>
				<!-- App footer end -->

			</div>
			<!-- Main container end -->

		</div>
		<!-- Page wrapper end -->

		<!-- *************
			************ Required JavaScript Files *************
		************* -->
		<!-- Required jQuery first, then Bootstrap Bundle JS -->
		
		<script src="xdm/js/bootstrap.bundle.min.js"></script>
		<script src="xdm/js/modernizr.js"></script>
		<script src="xdm/js/moment.js"></script>

		<!-- *************
			************ Vendor Js Files *************
		************* -->

		<!-- Overlay Scroll JS -->
		<script src="xdm/vendor/overlay-scroll/jquery.overlayScrollbars.min.js"></script>
		<script src="xdm/vendor/overlay-scroll/custom-scrollbar.js"></script>

		<!-- News ticker -->
		<script src="xdm/vendor/newsticker/newsTicker.min.js"></script>
		<script src="xdm/vendor/newsticker/custom-newsTicker.js"></script>

		<!-- Main Js Required -->
		<script src="xdm/js/main.js"></script>
		<script src="xdm/js/validationXdm.js" ></script>
		<!-- <script src="xdm/js/validations.js"></script> -->
		<script src="xdm/js/Common.js"></script>
		<script type="text/javascript">
		let goUrlXdmLogout = "/login"
		window.addEventListener('load', function() {
			$("#prStartDate, #prEndDate").datetimepicker({
				timepicker:false,
	 			format: 'Y/m/d'
			});
		});
		
		function vallupdt()
		{
			if(!checkOnlyKoreanEnglishNumber('prTitle',2,0,"코드 이름은 한글, 영문대소문자, 숫자만 입력 가능합니다.")){return false}
			if(!checkSelectNull('prdeleteNY',2,"선택하세요")){return false}	
			if(!checkOnlyKoreanEnglishNumber('prHostedPlanned',2,0,"코드 이름은 한글, 영문대소문자, 숫자만 입력 가능합니다.")){return false}	
			if(!checkSelectNull('prAgeLimit',2,"선택하세요")){return false}	
			if(!checkDate('prStartDate',2,0,"2024/02/21 형식으로만 입력 가능")){return false}		
			if(!checkDate('prEndDate',2,0,"2024/02/21 형식으로만 입력 가능")){return false}	
		}
		
		let form = document.querySelector("form[name=formname]");
		let goUrlXdmList = "/performanceinsert";	
		
		document.getElementById("btnsubmit").onclick = function(){	
			vallupdt();
			if(vallupdt() == false)
				{
				return false
				}
			else
				{
				valInst()
				}
		}
		
		function valInst(){
			form.action = goUrlXdmList;
		    form.submit();
		}
		
		/* function valupdt(){
			if(!empty(document.getElementById("prTitle").value))
				{
				document.getElementById('prTitle').classList.add("")
				}
			else{
				form.action = goUrlXdmList;
			    form.submit();
			}

		}
		empty =  function(value)
		{
			if(value == null || value == 'null'|| value == 0){
				return false;
			}
			else {
				return true;
			}
		} */

		</script>
	</body>

</html>